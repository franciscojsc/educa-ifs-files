{"flow":{"onboarding":{"$contentActions":[{"input":{"bypass":false,"$cardContent":{"document":{"id":"db3ae508-4aef-46b5-b979-4f58eb1eca18","type":"text/plain","content":"redirectMessage"},"editable":false,"deletable":false,"position":"right","editing":false},"$invalid":false,"variable":"redirectMessage"},"$invalid":false}],"$conditionOutputs":[{"stateId":"5a034f7c-88c9-4927-afdc-3b28d833a493","typeOfStateId":"state","$connId":"con_3","$id":"94d933a5-9530-4a24-abd2-67ef7848db9e","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[],"id":"onboarding","root":true,"$title":"In√≠cio","$position":{"top":"117px","left":"643px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"fallback":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"92560f34-8a5c-4d34-ab5e-5613cee67222","type":"text/plain","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"d920fcab-1363-418f-9c80-9fadcd61129f","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"fallback","$title":"Exce√ß√µes","$position":{"top":"116px","left":"877px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"5a034f7c-88c9-4927-afdc-3b28d833a493":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"6f9ecbf4-8b70-45a1-97b4-e469312cac7e","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"b2c5967d-a3a1-4422-9559-1bf8e238e374","typeOfStateId":"state","$connId":"con_8","$id":"86d9c6c1-ecbf-426a-8630-f20f6af96bba","conditions":[{"source":"context","comparison":"equals","values":["200"],"variable":"statusQnA"},{"source":"context","comparison":"notEquals","values":["No good match found in KB."],"variable":"resultQnA"}],"$invalid":false},{"stateId":"af638cad-71a1-4d76-9010-4bbf7adf7959","typeOfStateId":"state","$connId":"con_13","$id":"c0fb56a6-d3b9-4ecb-ac90-175a3b997028","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"97a39f7d-37b6-4445-8dc5-b0176628e423","$typeOfContent":"","type":"ProcessHttp","$title":"Process \"responseQnA\" using \"POST\"","$invalid":false,"settings":{"headers":{"BotId":"{{application.identifier}}"},"method":"POST","body":"{\n  \"question\": \"{{redirectMessage@inputContent}}\",\n  \"top\": 3,\n  \"isTest\": true,\n  \"scoreThreshold\": 50\n}","uri":"{{config.urlQnA}}","responseStatusVariable":"statusQnA","responseBodyVariable":"responseQnA"},"conditions":[]},{"$id":"88766309-40db-4463-a98e-79b90a439a35","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"resultQnA\"","$invalid":false,"settings":{"function":"run","source":"function run(responseQnA) {\n    try {\n        responseQnA = JSON.parse(responseQnA)\n        return responseQnA.answers[0].answer\n    }\n    catch (error) {\n        return responseQnA[0]\n    }\n}","inputVariables":["responseQnA"],"outputVariable":"resultQnA","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"$invalid":false,"typeOfStateId":"state","stateId":"fallback"},"$tags":[],"id":"5a034f7c-88c9-4927-afdc-3b28d833a493","root":false,"$title":"QA.1.0.0 - [Verify] Q&A","$position":{"top":"259px","left":"644px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"invalidOutputs":true},"b2c5967d-a3a1-4422-9559-1bf8e238e374":{"$contentActions":[{"action":{"$id":"00ede1d3-0f68-4616-b266-8d6ba3f99887","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"6e661fb7-7d17-4921-b565-aa429aa6b413","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"6e661fb7-7d17-4921-b565-aa429aa6b413","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"66a10712-ff61-4f57-b17e-1e184c6ab079","$typeOfContent":"text","type":"SendMessage","settings":{"id":"857f31c2-45e5-42ec-bcef-132c169f5b6b","type":"text/plain","content":"{{resultQnA}}","metadata":{}},"$cardContent":{"document":{"id":"857f31c2-45e5-42ec-bcef-132c169f5b6b","type":"text/plain","content":"{{resultQnA}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"4ddb2103-6240-45e3-a3cd-d1f178233cf1","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"b0dc8ec8-0b02-4864-84fd-d5217255ef2c","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"b0dc8ec8-0b02-4864-84fd-d5217255ef2c","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"75296bc1-9310-4674-9019-f7566da9bba4","$typeOfContent":"select-immediate","type":"SendMessage","settings":{"id":"347232c3-24f6-4ac0-a98e-974f08bd0a04","type":"application/vnd.lime.select+json","content":{"text":"{{Fa√ßa outra pergunta, ou acesse as op√ß√µes abaixo. | Se quiser fazer outra pergunta, fique √† vontade üòÉ}}","scope":"immediate","options":[{"text":"Quiz","previewText":"Quiz","value":null,"index":0,"type":null},{"text":"Tutoriais","previewText":"Tutoriais","value":null,"index":1,"type":null}]},"metadata":{"#message.spinText":"true"}},"$cardContent":{"document":{"id":"347232c3-24f6-4ac0-a98e-974f08bd0a04","type":"application/vnd.lime.select+json","content":{"text":"{{Fa√ßa outra pergunta, ou acesse as op√ß√µes abaixo. | Se quiser fazer outra pergunta, fique √† vontade üòÉ}}","scope":"immediate","options":[{"text":"Quiz","previewText":"Quiz","value":null,"index":0,"type":null},{"text":"Tutoriais","previewText":"Tutoriais","value":null,"index":1,"type":null}]}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"402f3449-34f0-4d17-9b51-ac830d507c5e","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"d920fcab-1363-418f-9c80-9fadcd61129f","typeOfStateId":"state","$connId":"con_18","$id":"3a441328-0ed6-4b57-8ec2-4fcfc1768943","conditions":[{"source":"input","comparison":"equals","values":["Quiz","Tutoriais"]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":["Quiz","Tutoriais"],"$defaultOutput":{"$invalid":false,"typeOfStateId":"state","stateId":"fallback"},"$tags":[],"id":"b2c5967d-a3a1-4422-9559-1bf8e238e374","root":false,"$title":"QA.1.1.0 - Show Message","$position":{"top":"406px","left":"812px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"invalidOutputs":true},"af638cad-71a1-4d76-9010-4bbf7adf7959":{"$contentActions":[{"action":{"$id":"5a558811-40ac-4618-a50c-79156dfec1cf","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"befbb8b5-a383-4104-9026-6ff14f50ee12","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"befbb8b5-a383-4104-9026-6ff14f50ee12","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"8c9b3256-9d72-4de3-9863-b66ae824d6a6","$typeOfContent":"text","type":"SendMessage","settings":{"id":"a0180f87-1254-48d1-933f-086ab85c737b","type":"text/plain","content":"Desculpe, ainda n√£o sei responder.","metadata":{}},"$cardContent":{"document":{"id":"a0180f87-1254-48d1-933f-086ab85c737b","type":"text/plain","content":"Desculpe, ainda n√£o sei responder."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"435bbccc-6889-4f12-bb78-173b2291864c","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"215e6991-fcee-4fd1-8f38-b517638093c2","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"215e6991-fcee-4fd1-8f38-b517638093c2","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"f6cac128-d247-4b04-803d-746336e4385a","$typeOfContent":"text","type":"SendMessage","settings":{"id":"7bcc437d-bdba-4a88-8ec9-8f057fe21fd2","type":"text/plain","content":"üòÖ","metadata":{}},"$cardContent":{"document":{"id":"7bcc437d-bdba-4a88-8ec9-8f057fe21fd2","type":"text/plain","content":"üòÖ"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"7995b9fe-b429-4aab-a939-3ed54ddc67ab","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"19342f24-5201-4215-bdc5-3731d758c7e8","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"19342f24-5201-4215-bdc5-3731d758c7e8","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"acee0367-38f2-40e8-a5bc-16a7f61ab9a7","$typeOfContent":"select-immediate","type":"SendMessage","settings":{"id":"7f8de614-7ecd-46ad-b6aa-4bc573d41b40","type":"application/vnd.lime.select+json","content":{"text":"Poderia fazer outra pergunta, ou deseja as op√ß√µes abaixo?","scope":"immediate","options":[{"text":"Quiz","previewText":"Quiz","value":null,"index":0,"type":null},{"text":"Tutoriais","previewText":"Tutoriais","value":null,"index":1,"type":null}]},"metadata":{}},"$cardContent":{"document":{"id":"7f8de614-7ecd-46ad-b6aa-4bc573d41b40","type":"application/vnd.lime.select+json","content":{"text":"Poderia fazer outra pergunta, ou deseja as op√ß√µes abaixo?","scope":"immediate","options":[{"text":"Quiz","previewText":"Quiz","value":null,"index":0,"type":null},{"text":"Tutoriais","previewText":"Tutoriais","value":null,"index":1,"type":null}]}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"ce882c43-c9ae-4f0f-bcef-ed51f4261318","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"d920fcab-1363-418f-9c80-9fadcd61129f","typeOfStateId":"state","$connId":"con_23","$id":"85215eb1-4a28-4daf-9e8f-6fbed53c7661","conditions":[{"source":"input","comparison":"equals","values":["Quiz","Tutoriais"]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":["Quiz","Tutoriais"],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[],"id":"af638cad-71a1-4d76-9010-4bbf7adf7959","root":false,"$title":"QA.1.2.0 - Show Message","$position":{"top":"413px","left":"463px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"d920fcab-1363-418f-9c80-9fadcd61129f":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"a2b7d4a0-db70-4e40-bab8-0e14a8a39a94","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"5e58fbd4-81b4-4be5-af40-c193cd3742bf","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"skillDestination\"","$invalid":false,"settings":{"function":"run","source":"{{resource.functionGetSkillDestination}}","inputVariables":["input.content"],"outputVariable":"skillDestination","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"b185c771-e2b1-49e8-bae1-809ee5bc2251","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"redirectMessage\"","$invalid":false,"settings":{"function":"run","source":"{{resource.functionRedirectMessage}}","inputVariables":["context.blockName","context.blockId","input.type","input.content","inputContentType","config.skill","skillDestination"],"outputVariable":"redirectMessage","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"84d0bcff-717f-4f2d-9a2b-8c1434fbf6d0","$typeOfContent":"","type":"Redirect","$title":"Redirect to \"serviceRedirect\"","$invalid":false,"settings":{"context":{"type":"text/plain","value":"{{redirectMessage}}"},"address":"{{config.serviceRedirect}}"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[],"id":"d920fcab-1363-418f-9c80-9fadcd61129f","root":false,"$title":"[Redirect] Redirect","$position":{"top":"577px","left":"638px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false}},"globalActions":{"$contentActions":[],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"441271fb-35e5-4138-8ed6-23dfb35cdbca","$typeOfContent":"","type":"SetVariable","$title":"Definir vari√°vel \"blockName\"","$invalid":false,"settings":{"variable":"blockName","value":"{{state.name}}"},"conditions":[]},{"$id":"139a191c-b930-4cd0-921f-80dd9b42602a","$typeOfContent":"","type":"SetVariable","$title":"Definir vari√°vel \"blockId\"","$invalid":false,"settings":{"variable":"blockId","value":"{{state.id}}"},"conditions":[]},{"$id":"eb166ec4-4127-4d6a-a033-b115feade297","$typeOfContent":"","type":"SetVariable","$title":"Set \"inputContentType\" to \"input.content@type\"","$invalid":false,"settings":{"variable":"inputContentType","value":"{{input.content@type}}","expiration":5},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[],"id":"global-actions","$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false}}